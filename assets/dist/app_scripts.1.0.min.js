"use strict";function deleteReview(e,t){var n=confirm("You sure want to delete the review?");if(1==n){var i=new FormData;i.append("action","delete_reviews"),i.append("status",e),i.append(" post_id",t),jQuery.ajax({cache:!1,url:dd_vars.ajaxurl,type:"POST",data:i,contentType:!1,processData:!1,beforeSend:function(){},success:function(e){},complete:function(){location.reload()}})}return!1}function dynamicSearch(e){e.length>2?$(".app-review-module").each(function(){var t=$(this).find(".app-review-module__title").html(),n=t.toLowerCase(),i=t.toUpperCase(),s=e.toLowerCase(),a=e.toUpperCase();t.includes(e)||t.includes(s)||t.includes(a)?$(this).removeClass("d-none"):n.includes(e)||n.includes(s)||n.includes(a)?$(this).removeClass("d-none"):i.includes(e)||i.includes(s)||i.includes(a)?$(this).removeClass("d-none"):$(this).addClass("d-none")}):$(".app-review-module").removeClass("d-none")}function dynamicFilter(e){e&&$(".app-review-module").each(function(){var t=$(this).find(".app-review-module__title").attr("data-site");t.includes(e)?$(this).removeClass("d-none"):$(this).addClass("d-none")})}function sortBy(){var e=$("#js-reorder-apps .app-review-module"),t=0;e.sort(function(e,n){return e=parseInt($(e).attr("data-order"),10),n=parseInt($(n).attr("data-order"),10),t+=2,e>n?-1:n>e?1:0}),$("#js-reorder-apps").html(e)}function formRequiresArticle(e){return""==$("#title").val()?($("#title").attr("placeholder","Please complete Title"),closeModal(),!1):!0}function FormSubmitArticle(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(formRequiresArticle(e)){var n="";$("#feature").is(":checked")&&(n=$("#feature").val());var i=new FormData;return i.append("action","save_article"),i.append("status",e),i.append("post_id",$("#post_id").val()),i.append("title",$("#title").val()),i.append("subtitle",$("#subtitle").val()),i.append("content",$(".ql-editor").html()),i.append("blog_id",$("#blog_id").val()),i.append("feature",n),i.append("featuredImage",$("#featuredImage").val()),jQuery.ajax({cache:!1,url:bms_vars.ajaxurl,type:"POST",data:i,contentType:!1,processData:!1,beforeSend:function(){$("#js-edit-blogging-article").html('<p class="text-info">Sending...</p>'),"draft"==e?$("#js-draft-article").addClass("loading hiddenBtn").removeClass("done"):$("#js-publish-article").addClass("loading hiddenBtn").removeClass("done")},success:function(n){if("draft"==e?$("#js-draft-article").removeClass("loading hiddenBtn").addClass("done"):$("#js-publish-article").removeClass("loading hiddenBtn").addClass("done"),n.success){if(t)return $("#js-edit-blogging-article").html('<p class="text-info">Refreshing page...</p>'),$("#js-draft-modal").addClass("d-none"),window.open(window.location.origin+n.data.preview,"_blank"),window.location.replace(n.data.redirect),!1;"draft"==n.data.status&&($("#js-draft-modal").removeClass("d-none"),$("#js-draft-modal").attr("data-redirect",n.data.redirect),$("#js-edit-blogging-article").html('<p class="text-info">Refreshing page...</p>')),"pending"==n.data.status&&($("#js-pending-article-modal").removeClass("d-none"),$(".js-pending-modal").removeClass("d-none"),$("#js-edit-article").html('<p class="text-success">'+n.data.message+"</p>"))}else $("#js-edit-article").html('<p class="text-danger">'+n.message+"</p>")}}),!1}}function FormSubmitPreviewArticle(){event.preventDefault();var e=new FormData;return e.append("action","preview_article"),e.append(" post_id",$("#post_id").val()),e.append("title",$("#title").val()),e.append("subtitle",$("#subtitle").val()),e.append("content",$(".ql-editor").html()),e.append("featuredImage",$("#featuredImage").val()),jQuery.ajax({cache:!1,url:bms_vars.ajaxurl,type:"POST",data:e,contentType:!1,processData:!1,beforeSend:function(){$("#js-edit-article").html('<p class="text-info">sending...</p>')},success:function(e){e.success?$("#js-edit-article").html('<p class="text-success">Saved Article</p>'):$("#js-edit-article").html('<p class="text-danger">'+e.data+"</p>")}}),!1}function deleteSingleArticle(e,t){var n=confirm("You sure want to delete the article?");if(1==n){var i=new FormData;i.append("action","delete_article"),i.append("status",e),i.append(" post_id",t),jQuery.ajax({cache:!1,url:bms_vars.ajaxurl,type:"POST",data:i,contentType:!1,processData:!1,complete:function(){location.reload()}})}return!1}function FormSingleLinkSubmit(){var e=new FormData;return e.append("action","save_link_article"),e.append("status","pending"),e.append(" post_id",$("#post_id").attr("data-id")),jQuery.ajax({cache:!1,url:bms_vars.ajaxurl,type:"POST",data:e,contentType:!1,processData:!1,beforeSend:function(){$("#js-edit-blogging-article").html('<p class="text-info">Sending...</p>'),$(".btn-save").addClass("loading hiddenBtn").removeClass("done")},success:function(e){$(".btn-save").removeClass("loading hiddenBtn").addClass("done"),e.success?($("#js-msj-article").html('<p class="text-success">'+e.data.message+"</p>"),"publish"!=e.data.status&&"pending"!=e.data.status||window.location.replace(e.data.redirect)):$("#js-msj-article").html('<p class="text-danger">'+e.message+"</p>")}}),!1}function selectRelevantSites(e){"none"!==e&&$("#list_relevant").append('<li id="'+e+'">'+e+' <input type="hidden" name="relevantList[]" value="'+e+'" class="check_relevant"><div onclick="deleteItem(\''+e+'\')"><img src="/wp-content/plugins/blogging-platform/assets/img/delete-x-icon.svg" /></div> </li>')}function runScript(e){function t(e){var t=[];return $("#list_keyword li").each(function(){t.push($(this).attr("id"))}),t.includes(e)?!1:(t.push(e),!0)}if(tecla=document.all?e.keyCode:e.which,8==tecla)return!0;if(patron=/[A-Za-z0-9\s]/,tecla_final=String.fromCharCode(tecla),13==e.keyCode){var n=$.sanitize($("#keyword").val());return""!==n&&t(n)&&($("#list_keyword").append('<li id="'+n+'">'+n+' <input type="hidden" name="keywordList[]" value="'+n+'" class="check_keyword"><div onclick="deleteItem(\''+n+'\')"><img src="/wp-content/plugins/blogging-platform/assets/img/delete-x-icon.svg" /></div> </li>'),$("#keyword").val("")),!1}return patron.test(tecla_final)}function deleteItem(e){$("#"+e).remove(),$("#relevant option[value="+e+"]").removeAttr("disabled")}function readURL(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){$("#js-featured-background").css("background-image","url("+e.target.result+")")},t.readAsDataURL(e.files[0])}}function formRequires(){return""==$("#user_firstname").val()?($("#js-bio-edit-msj").html('<p class="text-danger">Please complete First Name</p>'),!1):""==$("#user_lastname").val()?($("#js-bio-edit-msj").html('<p class="text-danger">Please complete Last Name</p>'),!1):!0}function FormCompleteBioSubmit(){if(formRequires()){$("#js-bio-modal-creating").removeClass("d-none");var e=[],t=[],n=[],i=[];$(".check_specialty").each(function(){var t={specialty:$(this).find(".item_specialty").val(),subspecialty:$(this).find(".item_subspecialty").val()};e.push(t)}),$(".check_certification").each(function(){var e={certification:$(this).find(".item_certification").val(),subcertification:$(this).find(".item_subcertification").val()};t.push(e)}),$(".check_education").each(function(){n.push($(this).find(".item_education").val())}),$(".check_expertise").each(function(){i.push($(this).find(".item_education").val())});var s=new FormData;return s.append("action","save_pre_bio"),s.append("user_id",$("#user_id").val()),s.append("user_control",$("#user_control").val()),s.append("user_firstname",$("#user_firstname").val()),s.append("user_lastname",$("#user_lastname").val()),s.append("user_specialty",JSON.stringify(e)),s.append("user_website",$("#user_website").val()),s.append("user_linkedin",$("#user_linkedin").val()),s.append("user_twitter",$("#user_twitter").val()),s.append("user_facebook",$("#user_facebook").val()),s.append("user_instagram",$("#user_instagram").val()),s.append("clinic_name",$("#clinic_name").val()),s.append("clinic_email",$("#clinic_email").val()),s.append("clinic_open",$("#clinic_open").val()),s.append("clinic_phone",$("#clinic_phone").val()),s.append("clinic_appointment",$("#clinic_appointment").val()),s.append("clinic_web",$("#clinic_web").val()),s.append("clinic_lat",$("#latitud_prop").val()),s.append("clinic_lng",$("#longitud_prop").val()),s.append("clinic_location",$("#js-google-search").val()),s.append("city",$("#city_prop").val()),s.append("state",$("#state_prop").val()),s.append("country",$("#country_prop").val()),s.append("user_description",$("#user_description").val()),s.append("user_description_link",$("#user_description_link").val()),s.append("user_education",JSON.stringify(n)),s.append("user_certification",JSON.stringify(t)),s.append("user_expertise",JSON.stringify(i)),s.append("user_residency",$("#user_residency").val()),s.append("user_credential",$("#user_credential").val()),s.append("user_npi",$("#user_npi").val()),s.append("featuredImage",$("input[type=file]")[0].files[0]),jQuery.ajax({cache:!1,url:ddb_vars.ajaxurl,type:"POST",data:s,contentType:!1,processData:!1,beforeSend:function(){$(".js-save-animation").addClass("loading hiddenBtn").removeClass("done")},success:function(e){$(".js-save-animation").removeClass("loading hiddenBtn").addClass("done"),e.success?($("#js-skip-step").text("Cancel"),setTimeout(function(){$("#js-bio-modal-creating").addClass("d-none"),$("#js-bio-modal").removeClass("d-none"),$("#js-bio-modal-complete").removeClass("d-none")},3e3)):$("#js-bio-edit-msj").html('<p class="text-danger">'+e.data+"</p>")}}),!1}}function buttonA_clickHandler(e){$(".js-save-animation").addClass("loading hiddenBtn").removeClass("done"),$(".acf-form-submit input").click()}function loadSubSpecialties(e){if(e){if("other"==e)return void $("#js-other-specialty").css("display","flex");var t=new FormData;return t.append("action","load_subspecialties"),t.append("user_specialty",e),jQuery.ajax({cache:!1,url:ddb_vars.ajaxurl,type:"POST",data:t,contentType:!1,processData:!1,beforeSend:function(e){$("#user_subspecialty").html('<option value="" selected disabled>loading...</option>')},success:function(e){$("#user_subspecialty").html(e.data)}}),!1}}function addSpecialties(){var e=$("#user_specialty").val(),t=e.replace(/ /g,"-").replace(/["'()]/g,""),n=$("#user_subspecialty").val(),i=n.replace(/ /g,"-").replace(/["'()]/g,""),s="";e&&"none"!==e&&"null"!==e&&(s+='<li id="'+t+'"  class="d-flex flex-row check_specialty">',s+='<div class="box-specialty box-specialty-purple d-flex flex-row">'+e+'<input type="hidden" value="'+e+'" class="item_specialty"><div onclick="deleteItemSpecialty(this);"><img src="/wp-content/plugins/blogging-platform/assets/img/delete-x-icon.svg" /></div></div>'),n&&"none"!==n&&"null"!==n&&(s+='<div id="'+i+'"  class="box-specialty box-specialty-pink d-flex flex-row">'+n+' <input type="hidden" value="'+n+'" class="item_subspecialty"><div onclick="deleteItemSubSpecialty(this)"><img src="/wp-content/plugins/blogging-platform/assets/img/delete-x-icon.svg" /></div></div> '),s+="</li>",$("#js-list-specialties").append(s)}function addOtherSpecialties(){var e=$("#other_specialty").val(),t=e.replace(/ /g,"-").replace(/["'()]/g,""),n="";e&&"none"!==e&&"null"!==e&&(n+='<li id="'+t+'"  class="d-flex flex-row check_specialty">',n+='<div class="box-specialty box-specialty-purple d-flex flex-row">'+e+'<input type="hidden" value="'+e+'" class="item_specialty"><div onclick="deleteItemSpecialty(this);"><img src="/wp-content/plugins/blogging-platform/assets/img/delete-x-icon.svg" /></div></div>',$("#other_specialty").val(""),$("#user_specialty").val(""),$("#js-other-specialty").css("display","none")),n+="</li>",$("#js-list-specialties").append(n)}function deleteItemSpecialty(e){var t=e;$(t).parent().parent().remove()}function deleteItemSubSpecialty(e){var t=e;$(t).parent().parent().remove()}function loadSubCertification(e){if(e){var t=new FormData;return t.append("action","load_subspecialties"),t.append("user_specialty",e),jQuery.ajax({cache:!1,url:ddb_vars.ajaxurl,type:"POST",data:t,contentType:!1,processData:!1,beforeSend:function(e){$("#user_subcertification").html('<option value="" selected disabled>loading...</option>')},success:function(e){$("#user_subcertification").html(e.data)}}),!1}}function addCertification(){var e=Math.floor(9990*Math.random())+9,t=$("#user_certification").val(),n=t.replace(/ /g,"-").replace(/["'()]/g,"")+e,i=$("#user_subcertification").val(),s=i.replace(/ /g,"-").replace(/["'()]/g,"")+e,a="";t&&"none"!==t&&"null"!==t&&(a+='<li id="'+n+'"  class="d-flex flex-row check_certification">',a+='<div class="box-certification box-certification-purple d-flex flex-row">'+t+'<input type="hidden" value="'+t+'" class="item_certification"><div onclick="deleteItemcertification(this);"><img src="/wp-content/plugins/blogging-platform/assets/img/delete-x-icon.svg" /></div></div>'),i&&"none"!==i&&"null"!==i&&(a+='<div id="'+s+'"  class="box-certification box-certification-pink d-flex flex-row">'+i+' <input type="hidden" value="'+i+'" class="item_subcertification"><div onclick="deleteItemSubcertification(this);"><img src="/wp-content/plugins/blogging-platform/assets/img/delete-x-icon.svg" /></div></div> '),a+="</li>",$("#js-list-certification").append(a)}function deleteItemcertification(e){var t=e;$(t).parent().parent().remove()}function deleteItemSubcertification(e){var t=e;$(t).parent().parent().remove()}function addEducationItem(){var e=$("#user_education").val(),t=e.replace(/ /g,"-").replace(/["'()]/g,""),n="";e&&"none"!==e&&"null"!==e&&(n+='<li id="'+t+'"  class="d-flex flex-row check_education">',n+='<div class="box-education box-education-purple d-flex flex-row">'+e+'<input type="hidden" value="'+e+'" class="item_education"><div onclick="deleteItemEducation(this);"><img src="/wp-content/plugins/blogging-platform/assets/img/delete-x-icon.svg" /></div></div>'),n+="</li>",$("#js-list-education").append(n),$("#user_education").val("")}function deleteItemEducation(e){var t=e;$(t).parent().parent().remove()}function addExpertiseItem(){var e=$("#user_expertise").val(),t=e.replace(/ /g,"-").replace(/["'()]/g,""),n="";e&&"none"!==e&&"null"!==e&&(n+='<li id="'+t+'"  class="d-flex flex-row check_expertise">',n+='<div class="box-education box-education-purple d-flex flex-row">'+e+'<input type="hidden" value="'+e+'" class="item_education"><div onclick="deleteExpertiseItem(this);"><img src="/wp-content/plugins/blogging-platform/assets/img/delete-x-icon.svg" /></div></div>'),n+="</li>",$("#js-list-expertise").append(n),$("#user_expertise").val("")}function deleteExpertiseItem(e){var t=e;$(t).parent().parent().remove()}function runCheckPhone(e){return tecla=document.all?e.keyCode:e.which,8==tecla?!0:(patron=/[0-9\s]/,tecla_final=String.fromCharCode(tecla),patron.test(tecla_final))}function runCheckEmail(e){var t=/^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i;t.test(e)?($("#js-message-email").html('<span class="text-success">Valid Email!</span>'),$(".js-save-animation").removeAttr("disabled")):($("#js-message-email").html('<span class="text-danger">Email is not valid</span>'),$(".js-save-animation").prop("disabled",!0))}function activeSkipModal(){$("#js-bio-modal-skip").removeClass("d-none")}function countChars(e){var t=500,n=e.value.length;return n>=t?(document.getElementById("charNum").innerHTML='<span class="text-danger text-min">'+n+" out of "+t+" characters</span>",$(e).val($(e).val().substring(0,t)),!1):void(document.getElementById("charNum").innerHTML=n+" out of "+t+" characters")}function letDoctorpediaChoose(){$("#js-featured-image-article").removeClass("d-flex"),$("#js-featured-image-article").addClass("d-none"),$("#js-doctorpedia-choose").removeClass("d-none"),$("#js-doctorpedia-choose").addClass("d-flex"),chooseRandomImage()}function readURL(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){$("#js-featured-image-article").css("background-image","url("+e.target.result+")"),$("#js-choose-image").css({transform:"translateY(85px)"})},t.readAsDataURL(e.files[0])}}function setImageArticle(e){$("#js-featured-image-article").css("background-image","url("+e+")"),$("#js-featured-image-article img").css("display","none"),$("#js-insert-articles-img-modal").addClass("d-none"),$("#js-choose-image").css({transform:"translateY(85px)"}),$("#js-choose-image button").text("Change image"),$("#featuredImage").val(e)}function chooseRandomImage(){var e=new FormData;return e.append("action","choose_random_image"),jQuery.ajax({cache:!1,url:dms_vars.ajaxurl,type:"POST",data:e,contentType:!1,processData:!1,success:function(e){setImageArticle(e.data)}}),!1}function formRequiresArticle(e){return""==$("#title").val()?($("#title").attr("placeholder","Please complete Title"),closeModal(),!1):!0}function FormSubmit(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(formRequiresArticle(e)){var n=new FormData;return n.append("action","save_blog"),n.append("status",e),n.append("post_id",$("#post_id").val()),n.append("title",$("#title").val()),n.append("subtitle",$("#subtitle").val()),n.append("content",$(".ql-editor").html()),n.append("blog_id",$("#blog_id").val()),n.append("featuredImage",$("#featuredImage").val()),jQuery.ajax({cache:!1,url:dms_vars.ajaxurl,type:"POST",data:n,contentType:!1,processData:!1,beforeSend:function(){$("#js-edit-blogging-article").html('<p class="text-info">Sending...</p>'),"draft"==e?$("#js-draft-article").addClass("loading hiddenBtn").removeClass("done"):$("#js-publish-article").addClass("loading hiddenBtn").removeClass("done")},success:function(n){if("draft"==e?$("#js-draft-article").removeClass("loading hiddenBtn").addClass("done"):$("#js-publish-article").removeClass("loading hiddenBtn").addClass("done"),n.success){if(t)return $("#js-edit-blogging-article").html('<p class="text-info">Refreshing page...</p>'),$("#js-draft-modal").addClass("d-none"),window.open(window.location.origin+n.data.preview,"_blank"),window.location.replace(n.data.redirect),!1;"draft"==n.data.status&&($("#js-draft-modal").removeClass("d-none"),$("#js-draft-modal").attr("data-redirect",n.data.redirect),$("#js-edit-blogging-article").html('<p class="text-info">Refreshing page...</p>')),"pending"==n.data.status&&($("#js-pending-blog-modal").removeClass("d-none"),$(".js-pending-modal").removeClass("d-none"),$("#js-edit-blogging-article").html('<p class="text-success">'+n.data.message+"</p>"))}else $("#js-edit-blogging-article").html('<p class="text-danger">'+n.message+"</p>")}}),!1}}function FormSubmitPreview(){event.preventDefault();var e=new FormData;return e.append("action","preview_article"),e.append(" post_id",$("#post_id").val()),e.append("title",$("#title").val()),e.append("subtitle",$("#subtitle").val()),e.append("content",$(".ql-editor").html()),e.append(" blog_id",$("#blog_id").val()),e.append("featuredImage",$("#featuredImage").val()),jQuery.ajax({cache:!1,url:dms_vars.ajaxurl,type:"POST",data:e,contentType:!1,processData:!1,beforeSend:function(){$("#js-edit-blogging-article").html('<p class="text-info">Sending...</p>')},success:function(e){e.success?($("#js-edit-blogging-article").html('<p class="text-success">Saved Blog</p>'),window.open(window.location.origin+"/doctor-platform/preview/?post="+e.data.p+"&preview=true","_blank")):$("#js-edit-blogging-article").html('<p class="text-danger">'+e.data+"</p>")}}),!1}function FormLinkSubmit(){var e=new FormData;return e.append("action","save_link_blog"),e.append("status","pending"),e.append(" post_id",$("#post_id").attr("data-id")),jQuery.ajax({cache:!1,url:dms_vars.ajaxurl,type:"POST",data:e,contentType:!1,processData:!1,beforeSend:function(){$("#js-edit-blogging-article").html('<p class="text-info">Sending...</p>'),$(".btn-save").addClass("loading hiddenBtn").removeClass("done")},success:function(e){$(".btn-save").removeClass("loading hiddenBtn").addClass("done"),e.success?($("#js-msj-article").html('<p class="text-success">'+e.data.message+"</p>"),"publish"==e.data.status&&window.location.replace(e.data.redirect)):$("#js-msj-article").html('<p class="text-danger">'+e.message+"</p>")}}),!1}function deleteArticle(e,t){var n=confirm("You sure want to delete the blog?");if(1==n){var i=new FormData;i.append("action","delete_article"),i.append("status",e),i.append(" post_id",t),jQuery.ajax({cache:!1,url:dms_vars.ajaxurl,type:"POST",data:i,contentType:!1,processData:!1,complete:function(){location.reload()}})}return!1}function deshabilitar(e){event.preventDefault(),e.style.pointerEvents="none",e.style.pointerEvents=null,e.style.color="#ccc",e.style.borderBottom="1px solid #ccc",jQuery("#js-cta-post-preview span").show()}function doctorsForgotVerifyEmail(){var e=$("#user_email").val(),t=/^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i;return t.test(e)?($("#js-forgot-messageForm").html(""),void $("#user_email").removeClass("styles-danger").addClass("styles-success")):($("#js-forgot-messageForm").html('<p class="text-danger">Email is not correct</p>'),void $("#user_email").removeClass("styles-success").addClass("styles-danger"))}function doctorsVerifyEmail(){var e=$("#user_email").val(),t=/^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i;return t.test(e)?($("#js-register-messageForm").html(""),$("#user_email").removeClass("styles-danger").addClass("styles-success"),void $.ajax({method:"POST",url:location.origin+"/wp-content/plugins/blogging-platform/inc/verify-email.php",data:{email:e},beforeSend:function(){$("#js-register-messageForm").fadeIn("fast"),$("#js-register-messageForm").html('<p class="text-info">Checking....</p>')},success:function(e){var t=JSON.parse(e);"error"==t.data?($("#user_email").removeClass("styles-success").addClass("styles-danger"),$("#attach-confirm-email").removeClass("styles-success").addClass("styles-danger")):($("#user_email").removeClass("styles-danger").addClass("styles-success"),$("#attach-confirm-email").removeClass("styles-danger").addClass("styles-success")),$("#js-register-messageForm").html(t.message)}})):($("#js-register-messageForm").html('<p class="text-danger">Email is not correct</p>'),void $("#user_email").removeClass("styles-success").addClass("styles-danger"))}function getParameterByName(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function open_modal_terms(){console.log("OPEN MODAL"),$("#js-terms-conditions").removeClass("d-none"),$("#js-terms-conditions-form").removeClass("d-none")}function HideTermsModal(){$("#js-terms-conditions").addClass("d-none"),$("#js-terms-conditions-form").addClass("d-none"),$("#terms").prop("checked",!0),console.log("HIDE")}function closeTermsModalRegister(){$("#js-terms-conditions").addClass("d-none"),$("#js-terms-conditions-form").addClass("d-none")}function doctorsVerifyCode(){var e=$("#user_invite").val();$.ajax({method:"POST",url:location.origin+"/wp-content/plugins/blogging-platform/inc/verify-invite-code.php",data:{inviteCode:e},beforeSend:function(){$("#js-register-messageForm").fadeIn("fast"),$("#js-register-messageForm").html('<p class="text-info">Checking....</p>')},success:function(e){var t=JSON.parse(e);"error"==t.data?($("#user_invite").removeClass("styles-success").addClass("styles-danger"),$("#attach-confirm-email").removeClass("styles-success").addClass("styles-danger"),$("#js-register-submit").attr("disabled",!0)):($("#user_invite").removeClass("styles-danger").addClass("styles-success"),$("#attach-confirm-email").removeClass("styles-danger").addClass("styles-success"),$("#user_invite_control").val("valid"),$("#js-register-submit").removeAttr("disabled")),$("#js-register-messageForm").html(t.message)}})}function formSettingRequires(){return""==$("#user_password").val()?($("#js-settings-msj").html('<p class="text-danger">Please complete Password</p>'),!1):""==$("#user_confirm").val()?($("#js-settings-msj").html('<p class="text-danger">Please Confirm Password</p>'),!1):$("#user_password").val()!==$("#user_confirm").val()?($("#js-settings-msj").html('<p class="text-danger">Passwords don\'t match</p>'),!1):!0}function FormSettingSubmit(){if(formSettingRequires()){var e=new FormData;return e.append("action","set_password"),e.append("user_email",$("#user_email").val()),e.append("user_password",$("#user_password").val()),jQuery.ajax({cache:!1,url:bb_vars.ajaxurl,type:"POST",data:e,contentType:!1,processData:!1,beforeSend:function(){$(".js-save-animation").addClass("loading hiddenBtn").removeClass("done")},success:function(e){$(".js-save-animation").removeClass("loading hiddenBtn").addClass("done"),e.success?$("#js-settings-msj").html('<p class="text-success">'+e.data+"</p>"):$("#js-settings-msj").html('<p class="text-danger">'+e.data+"</p>")}}),!1}}function showVideoModal(){return void 0==$("#featuredImage")[0].files[0]?($("#js-video-required").addClass("text-danger"),$("#js-video-required").removeClass("text-muted"),$("#js-video-required").html("Video is required!"),$("#js-insert-video-modal").addClass("d-none"),$("#js-progressbar-video-modal").addClass("d-none"),$("#js-publish-article").removeClass("done hiddenBtn"),!1):($("#js-video-required").removeClass("text-danger"),void $("#js-insert-video-modal").removeClass("d-none"))}function openVerifiedvideoModal(){$("#js-insert-video-modal").addClass("d-none"),$("#js-progressbar-video-modal").removeClass("d-none"),FormSubmitVideo("pending")}function readVideoURL(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){$("#js-video-preview").removeClass("d-none"),$("#js-video-preview").attr("src",e.target.result),$("#js-video-preview source").attr("src",e.target.result),$("#js-cta-videos").addClass("d-none"),$("#js-cta-videos-after").addClass("d-flex").removeClass("d-none")},t.readAsDataURL(e.files[0])}}function closeVideoModal(){$("#js-saved-video").addClass("d-none");var e=$("#js-saved-video").attr("data-redirect");window.location.replace(e)}function FormSubmitVideo(e){var t=$("#bar"),n=null,i=$("#percent"),s=$("#method").val(),a=$("#doctor_method").val(),o=$("#featuredImage")[0].files[0];if($(document).on("click",".cancel-upload",function(e){n.abort(),DeleteCancelVideo(),$("#js-progressbar-video-modal").addClass("d-none"),$("#js-video-preview").addClass("d-none"),console.log("Canceled")}),s&&a){document.getElementById("progress_div").style.display="block";var r="0%";t.width(r),i.html(r),getToken(e,o)}else{var l=new FormData;l.append("action","save_video"),l.append("status",e),l.append("title",$("#title").val()),l.append("content",$(".ql-editor").html()),l.append("method","local"),l.append("featuredImage",$("#featuredImage")[0].files[0]),n=jQuery.ajax({cache:!1,url:dms_vars.ajaxurl,type:"POST",data:l,contentType:!1,processData:!1,xhr:function d(){document.getElementById("progress_div").style.display="block";var e="0%";t.width(e),i.html(e);var d=new window.XMLHttpRequest;return d.upload.addEventListener("progress",function(e){if(e.lengthComputable){var n=e.loaded/e.total;n=parseInt(100*n);var s=n+"%";t.width(s),i.html(s)}},!1),d},success:function(e){var n="100%";t.width(n),i.html(n),$("#js-progressbar-video-modal").addClass("d-none"),$("#js-cta-video-uploading").removeClass("d-none"),$("#js-video-progress-bar-status").append('<div class="d-flex align-content-center mt-1"><span class="mr-1">Completed</span> <img src="../../wp-content/plugins/blogging-platform/assets/img/video-complete.svg"></div>'),$("#js-saved-video").removeClass("d-none"),$(".js-confirm-modal").removeClass("d-none"),$(".modal-new_article__box-title").html(e.data.message),$("#js-saved-video").attr("data-redirect",e.data.goback)},error:function(e,t,n){$("#js-progressbar-video-modal").addClass("d-none"),$("#js-error-video-modal").removeClass("d-none"),$("#js-video-preview").addClass("d-none"),$("#js-error-video-modal .progress-title").html("Sorry, something went wrong"),$("#js-error-video-modal .progress-copy").html("Please try again in a moment")}})}}function getToken(e,t){var n=$("#bar"),i=$("#percent"),s=null;$(document).on("click",".cancel-upload",function(e){s.abort(),DeleteCancelVideo(),$("#js-progressbar-video-modal").addClass("d-none"),$("#js-video-preview").addClass("d-none"),console.log("Canceled")});var a=new FormData;a.append("action","get_tokens"),s=jQuery.ajax({cache:!1,url:dms_vars.ajaxurl,type:"POST",data:a,contentType:!1,processData:!1,success:function(s){var a="1%";n.width(a),i.html(a);var o=s.data.data,r=setCognitoIdentity(s.data.data);console.log("::::GET TOKEN AND SET COGNITO:::"),r?getProjectsAWS(e,r,o,t):errorProcess()}})}function setCognitoIdentity(e){var t=$("#bar"),n=$("#percent");AWS.config.credentials=new AWS.CognitoIdentityCredentials({IdentityId:e.IdentityId,Logins:{"cognito-identity.amazonaws.com":e.Token}}),AWS.config.update({region:"us-west-2"});var i=new AWS.S3({apiVersion:"2006-03-01",params:{Bucket:"com.urlifemedia.beta"}}),s="2%";return t.width(s),n.html(s),i}function getProjectsAWS(e,t,n,i){var s=$("#bar"),a=$("#percent"),o=null;$(document).on("click",".cancel-upload",function(e){o.abort(),DeleteCancelVideo(),$("#js-progressbar-video-modal").addClass("d-none"),$("#js-video-preview").addClass("d-none"),console.log("Canceled")});var r=new FormData;r.append("action","get_projects"),o=jQuery.ajax({cache:!1,url:dms_vars.ajaxurl,type:"POST",data:r,contentType:!1,processData:!1,success:function(o){var r="3%";s.width(r),a.html(r);var l=o.data;console.log("::::GET PROJECT:::"),l&&"undefined"!==l?createProjectsSKU(e,t,l,n,i):errorProcess()},error:function(e,t,n){errorProcess()}})}function createProjectsSKU(e,t,n,i,s){var a=$("#bar"),o=$("#percent"),r=null;$(document).on("click",".cancel-upload",function(e){r.abort(),DeleteCancelVideo(),$("#js-progressbar-video-modal").addClass("d-none"),$("#js-video-preview").addClass("d-none"),console.log("Canceled")});var l=new FormData;l.append("action","create_project_sku"),l.append("project_id",n),r=jQuery.ajax({cache:!1,url:dms_vars.ajaxurl,type:"POST",data:l,contentType:!1,processData:!1,success:function(r){var l="4%";a.width(l),o.html(l);var d=r.data;console.log("::::CREATE PROJECT SKU:::"),d&&"undefined"!==d?createFile(e,t,n,d,i,s):errorProcess()}})}function createFile(e,t,n,i,s,a){var o=$("#bar"),r=$("#percent"),l=null;$(document).on("click",".cancel-upload",function(e){l.abort(),DeleteCancelVideo(),$("#js-progressbar-video-modal").addClass("d-none"),$("#js-video-preview").addClass("d-none"),console.log("Canceled")});var d=new FormData;d.append("action","createFileURLife"),d.append("project_id",n),d.append("project_sku",i),d.append("fileName",a.name),d.append("fileMimeType",a.type),d.append("title",$("#title").val()),d.append("description",$(".ql-editor").html()),l=jQuery.ajax({cache:!1,url:dms_vars.ajaxurl,type:"POST",data:d,contentType:!1,processData:!1,success:function(i){var l="5%";o.width(l),r.html(l);var d=i.data.data[0];console.log("::::CREATE FILE:::"),d&&"undefined"!=d?uploadFileAWS(e,t,n,s,d,a):errorProcess()}})}function uploadFileAWS(e,t,n,i,s,a){var o=$("#bar"),r=$("#percent"),l=a.name,d=(l.split(".").pop(),"uploads/"+i.IdentityId+"/project/"+s.id+"."+s.fileExt);t.upload({Bucket:"com.urlifemedia.beta",Key:d,Body:a,ACL:"public-read"},function(t,i){return t?(console.log(t),errorProcess(),!1):(console.log("::::UPLOAD FILE:::"),void sendDataWP(e,s,a,n,i))}).on("httpUploadProgress",function(e){var t=e.loaded/e.total;if(t=parseInt(100*t)+15,100>t){var n=t+"%";o.width(n),r.html(n)}})}function sendDataWP(e,t,n,i,s){var a=$("#bar"),o=$("#percent"),r=null;$(document).on("click",".cancel-upload",function(e){r.abort(),DeleteCancelVideo(),$("#js-progressbar-video-modal").addClass("d-none"),$("#js-video-preview").addClass("d-none"),console.log("Canceled")});var l=new FormData;l.append("action","save_video"),l.append("status",e),l.append("title",$("#title").val()),l.append("location",s.Location),l.append("content",$(".ql-editor").html()),l.append("fileName",n.name),l.append("fileMimeType",t.fileExt),l.append("project_id",i),l.append("file_id",t.id),l.append("method","urlife"),r=jQuery.ajax({cache:!1,url:dms_vars.ajaxurl,type:"POST",data:l,contentType:!1,
processData:!1,success:function(e){var t="100%";a.width(t),o.html(t),console.log("::::UPDATE FILE:::"),$("#js-progressbar-video-modal").addClass("d-none"),$("#js-cta-video-uploading").removeClass("d-none"),$("#js-video-progress-bar-status").append('<div class="d-flex align-content-center mt-1"><span class="mr-1">Completed</span> <img src="../../wp-content/plugins/blogging-platform/assets/img/video-complete.svg"></div>'),$("#js-saved-video").removeClass("d-none"),$(".js-confirm-modal").removeClass("d-none"),$(".modal-new_article__box-title").html(e.data.message),$("#js-saved-video").attr("data-redirect",e.data.goback)},error:function(e,t,n){errorProcess()}})}function DeleteCancelVideo(){var e=new FormData;e.append("action","delete_cancel_video"),jQuery.ajax({cache:!1,url:dms_vars.ajaxurl,type:"POST",data:e,contentType:!1,processData:!1,success:function(e){}})}function FormSaveVideo(e){var t=new FormData;return t.append("action","edit_video"),t.append("title",$("#title").val()),t.append("post_id",$("#post_id").val()),t.append("content",$(".ql-editor").html()),jQuery.ajax({cache:!1,url:dms_vars.ajaxurl,type:"POST",data:t,contentType:!1,processData:!1,success:function(e){$("#js-insert-video-modal").addClass("d-none"),$("#js-save-data-video-modal").removeClass("d-none"),$("#js-video-message").html(e.data.message),$("#js-saved-video").attr("data-redirect",e.data.goback)}}),!1}function deleteVideo(e,t){var n=confirm("You sure want to delete the video?");if(1==n){var i=new FormData;i.append("action","delete_video"),i.append("status",e),i.append(" post_id",t),jQuery.ajax({cache:!1,url:dms_vars.ajaxurl,type:"POST",data:i,contentType:!1,processData:!1,complete:function(){location.reload()}})}return!1}function errorProcess(){$("#js-progressbar-video-modal").addClass("d-none"),$("#js-error-video-modal").removeClass("d-none"),$("#js-video-preview").addClass("d-none"),$("#js-error-video-modal .progress-title").html("Sorry, something went wrong"),$("#js-error-video-modal .progress-copy").html("Please try again in a moment")}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bkClass(){}function $BK(e){return"string"==typeof e&&(e=document.getElementById(e)),e&&!e.appendTo?bkExtend(e,bkElement.prototype):e}function __(e){return e}function showPassword(e,t){var n=document.getElementById(t);"password"===n.type?(n.type="text",$(e).addClass("fa-eye-slash").removeClass("fa-eye")):(n.type="password",$(e).addClass("fa-eye").removeClass("fa-eye-slash"))}function readMore(e){$("#js-show-"+e).css("display","none"),$("#js-more-"+e).removeClass("d-none ")}function readLess(e){$("#js-more-"+e).addClass("d-none"),$("#js-show-"+e).css("display","block")}function showDoctorModal(e,t,n){$("#acf-field_5d645ddc0ab2c-group_rip2322322").val(e),$("#acf-field_5d645ddc0ab2c-group_rip522322").val(t),$("#acf-field_5d645ddc0ab2c-group_rip54322").val(n),$("#js-insert-review-modal").removeClass("d-none"),$("#acf-form-data").addClass("acf-hidden"),$(".modal-header").css({visibility:"visible"}),$("#acf-field_5d645ddc0ab2c-group_rop54312-Yes").attr("checked","checked")}function showAppReviewsModal(e,t,n,i,s){$("#acf-field_5d645ddc0ab2c-group_rip2322322").val(e),$("#acf-field_5d645ddc0ab2c-group_rip522322").val(t),$("#acf-field_5d645ddc0ab2c-group_rip54322").val(n),$("#acf-field_5d64629ede297").val(i).change(),$("#js-insert-review-modal").removeClass("d-none"),$("#acf-form-data").removeClass("acf-hidden"),$("#js-app-reviews-modal-title").remove(),$("#acf-form-data").append('<div id="js-app-reviews-modal-title" class="d-flex flex-row justify-content-between"><h2>'+i+'</h2><a href="'+s+'" target="_blank" class="text-danger mt-2">View App</a></div>'),$(".modal-header").css({visibility:"hidden"}),$("#acf-field_5d645ddc0ab2c-group_rop54312-Yes").attr("checked","checked")}function hideModal(){$("#js-insert-reviews-modal").addClass("d-none")}function hideModalMap(){$("#bio-clinic").removeClass("active")}function showArticlesModal(){$("#js-insert-article-modal").removeClass("d-none")}function openVerifiedModal(){$(".js-confirm-modal").addClass("d-none"),$(".js-confirm-modal").removeClass("d-flex"),$("#js-insert-article-modal").addClass("d-none"),FormSubmit("pending")}function openVerifiedArticleModal(){$(".js-confirm-modal").addClass("d-none"),$(".js-confirm-modal").removeClass("d-flex"),$("#js-insert-article-modal").addClass("d-none"),$("#js-insert-article-modal").addClass("d-none"),FormSubmitArticle("pending")}function closeDraftModal(){$("#js-draft-modal").addClass("d-none"),$("#js-edit-blogging-article").html('<p class="text-info">Refreshing page...</p>');var e=$("#js-draft-modal").attr("data-redirect");window.location.replace(e)}function showArticleDraftModal(){$("#js-draft-article-modal").removeClass("d-none")}function openVerifiedDraftModal(){$(".js-confirm-modal").addClass("d-none"),$(".js-confirm-modal").removeClass("d-flex"),$("#js-draft-article-modal").addClass("d-none"),FormSubmit("draft")}function openVerifiedDraftArticleModal(){$(".js-confirm-modal").addClass("d-none"),$(".js-confirm-modal").removeClass("d-flex"),$("#js-draft-article-modal").addClass("d-none"),FormSubmitArticle("draft")}function openArticlesImg(){$("#js-insert-articles-img-modal").removeClass("d-none")}function chooseAnImage(){$("#js-doctorpedia-choose").removeClass("d-flex"),$("#js-doctorpedia-choose").addClass("d-none"),$("#js-featured-image-article").removeClass("d-none"),$("#js-featured-image-article").addClass("d-flex"),openArticlesImg()}function openVerifiedLinkModal(){$(".js-confirm-modal").addClass("d-none"),$(".js-confirm-modal").removeClass("d-flex"),$("#js-insert-article-modal").addClass("d-none"),FormLinkSubmit()}function openArticleVerifiedLinkModal(){$(".js-confirm-modal").addClass("d-none"),$(".js-confirm-modal").removeClass("d-flex"),$("#js-insert-article-modal").addClass("d-none"),FormSingleLinkSubmit()}!function(e){e.sanitize=function(e){return e.replace(/<(|\/|[^>\/bi]|\/[^>bi]|[^\/>][^>]+|\/[^>][^>]+)>/g,"")}}(jQuery);var activeBoard=function(){document.getElementById("js-board").checked=!0,document.getElementById("js-resident").checked=!1;var e=document.getElementById("js-visible-certifications");e.classList.remove("d-none");var t=document.getElementById("js-cta-resident");t.classList.add("d-none");var n=document.getElementById("js-visible-credential");n.classList.add("d-none");var t=document.getElementById("js-visible-resident");t.classList.add("d-none")},activeResident=function(){var e=document.getElementById("js-visible-certifications");e.classList.add("d-none"),document.getElementById("js-resident").checked=!0,document.getElementById("js-board").checked=!1;var t=document.getElementById("js-cta-resident");t.classList.remove("d-none")},activeResidentField=function(){document.getElementById("js-resident-y").checked=!0,document.getElementById("js-resident-x").checked=!1;var e=document.getElementById("js-visible-resident");e.classList.remove("d-none");var t=document.getElementById("js-visible-credential");t.classList.add("d-none")},activeCredentialField=function(){document.getElementById("js-resident-y").checked=!1,document.getElementById("js-resident-x").checked=!0;var e=document.getElementById("js-visible-credential");e.classList.remove("d-none");var t=document.getElementById("js-visible-resident");t.classList.add("d-none")};!function(e){function t(t){var a=t.find(".marker"),o={zoom:t.data("zoom")||16,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!1,mapTypeControl:!1,streetViewControl:!1,overviewMapControl:!1,zoomControl:!0,scaleControl:!1,fullscreenControl:!1,rotateControl:!1},r=new google.maps.Map(t[0],o);return r.markers=[],a.each(function(){n(e(this),r)}),i(r),s(r),r}function n(t,n){var i=t.data("lat"),s=t.data("lng");e("#latitud_prop").val(i),e("#longitud_prop").val(s);var a={lat:parseFloat(i),lng:parseFloat(s)},o=new google.maps.Marker({position:a,icon:"../../wp-content/themes/doctorpedia/img/authors/marker-premium.svg",map:n});if(n.markers.push(o),t.html()){var r=new google.maps.InfoWindow({content:t.html()});google.maps.event.addListener(o,"click",function(){r.open(n,o)})}}function i(e){var t=new google.maps.LatLngBounds;e.markers.forEach(function(e){t.extend({lat:e.position.lat(),lng:e.position.lng()})}),1==e.markers.length?e.setCenter(t.getCenter()):e.fitBounds(t)}function s(t){var n=document.getElementById("js-google-search"),i=new google.maps.places.SearchBox(n);t.controls[google.maps.ControlPosition.TOP_LEFT].push(n),t.addListener("bounds_changed",function(){i.setBounds(t.getBounds())});var s=[];i.addListener("places_changed",function(){var n=i.getPlaces();if(0!=n.length){s.forEach(function(e){e.setMap(null)}),s=[];var a=new google.maps.LatLngBounds;n.forEach(function(n){s.push(new google.maps.Marker({map:t,icon:"../../wp-content/themes/doctorpedia/img/authors/marker-premium.svg",title:n.name,position:n.geometry.location})),e("#latitud_prop").val(n.geometry.location.lat),e("#longitud_prop").val(n.geometry.location.lng),n.geometry.viewport?a.union(n.geometry.viewport):a.extend(n.geometry.location)}),t.fitBounds(a)}})}e(document).ready(function(){e(".acf-map").each(function(){t(e(this))})})}(jQuery),$("#js-google-search").keypress(function(e){return 13!=e.keyCode}),jQuery(document).ready(function(){jQuery("#content_ifr").keyup(function(){jQuery("#tinymce").value=document.getElementById("content").value.substring(0,10),console.log(jQuery(this).value)})}),jQuery(document).ready(function(){jQuery("#js-forgot-password").submit(function(e){if(e.preventDefault(),""==$("#user_email").val())return void $("#js-forgot-messageForm").html('<p class="text-danger">Please complete Email</p>');var t=$(this).serializeArray(),n=new FormData;return n.append("action","verifyUserEmail"),n.append("user_email",t[0].value),jQuery.ajax({cache:!1,url:$("#js-forgot-password").attr("action"),type:"POST",data:n,contentType:!1,processData:!1,beforeSend:function(){$("#js-forgot-messageForm").fadeIn("fast"),$("#js-forgot-messageForm").html('<p class="text-info">Sending....</p>')},success:function(e){1==e.success?$("#js-forgot-messageForm").html('<p class="text-success">'+e.data+"</p>"):$("#js-forgot-messageForm").html('<p class="text-danger">'+e.data+"</p>")}}),!1})}),jQuery(document).ready(function(){jQuery("#js-blogging-login").submit(function(e){if(e.preventDefault(),""==$("#user_login").val())return void $("#js-messageForm").html('<p class="text-danger">Please complete Email</p>');if(""==$("#user_pass").val())return void $("#js-messageForm").html('<p class="text-danger">Please complete Password</p>');var t=new FormData;t.append("action","blogging_login"),t.append("user_login",$("#user_login").val()),t.append("user_pass",$("#user_pass").val()),t.append("security",$("#security").val()),t.append("_wp_http_referer",$('input[name="_wp_http_referer"]').val()),jQuery.ajax({cache:!1,url:$("#js-blogging-login").attr("action"),type:"POST",data:t,contentType:!1,processData:!1,beforeSend:function(){$("#js-messageForm").fadeIn("fast"),$("#js-messageForm").html('<p class="text-info">Sending....</p>')},success:function(e){1==e.data.loggedin?($("#js-messageForm").html('<p class="text-success">'+e.data.message+"</p>"),$("#js-register-submit").addClass("d-none"),$(location).attr("href","../doctor-profile/"+e.data.user_nicename)):$("#js-messageForm").html('<p class="text-danger">'+e.data.message+"</p>")},error:function(e,t,n){$("#js-messageForm").html('<p class="text-danger">Bad send, please refresh page and try again</p>')}})})}),jQuery(document).ready(function(){var e;(e=getParameterByName("email"))&&$("#user_email").val(e),jQuery("#js-blogging-register").submit(function(e){if(e.preventDefault(),""==$("#user_fistname").val())return void $("#js-register-messageForm").html('<p class="text-danger">Please complete Fist Name</p>');if(""==$("#user_lastname").val())return void $("#js-register-messageForm").html('<p class="text-danger">Please complete Last Name</p>');if(""==$("#user_email").val())return void $("#js-register-messageForm").html('<p class="text-danger">Please complete Email</p>');if(""==$("#user_pass").val())return void $("#js-register-messageForm").html('<p class="text-danger">Please complete Password</p>');if(""==$("#user_repass").val())return void $("#js-register-messageForm").html('<p class="text-danger">Please complete Confirm Password</p>');if($("#user_repass").val()!==$("#user_pass").val())return void $("#js-register-messageForm").html('<p class="text-danger">Passwords don\'t match</p>');var t=$("#how_to").val();if(""==t.trim())return void $("#js-register-messageForm").html('<p class="text-danger">Please complete field, How did you hear about Doctorpedia?</p>');if(!$("#terms").is(":checked"))return void $("#js-register-messageForm").html('<p class="text-danger">Please Accept Terms & Conditions</p>');var n=new FormData;return n.append("action","blogging_Register"),n.append("user_fistname",$("#user_fistname").val()),n.append("user_lastname",$("#user_lastname").val()),n.append("user_email",$("#user_email").val()),n.append("user_pass",$("#user_pass").val()),n.append("how_to",$("#how_to").val()),jQuery.ajax({cache:!1,url:$("#js-blogging-register").attr("action"),type:"POST",data:n,contentType:!1,processData:!1,beforeSend:function(){$("#js-register-messageForm").fadeIn("fast"),$("#js-register-messageForm").html('<p class="text-info">Sending....</p>')},success:function(e){1==e.success?($("#js-register-messageForm").html('<p class="text-success">'+e.data+"</p>"),$(location).attr("href","/doctor-platform/complete-bio/")):$("#js-register-messageForm").html('<p class="text-danger">'+e.data+"</p>")}}),!1})});var bkExtend=function(){var e=arguments;1==e.length&&(e=[this,e[0]]);for(var t in e[1])e[0][t]=e[1][t];return e[0]};bkClass.prototype.construct=function(){},bkClass.extend=function(e){var t=function(){return arguments[0]!==bkClass?this.construct.apply(this,arguments):void 0},n=new this(bkClass);return bkExtend(n,e),t.prototype=n,t.extend=this.extend,t};var bkElement=bkClass.extend({construct:function(e,t){return"string"==typeof e&&(e=(t||document).createElement(e)),e=$BK(e)},appendTo:function(e){return e.appendChild(this),this},appendBefore:function(e){return e.parentNode.insertBefore(this,e),this},addEvent:function(e,t){return bkLib.addEvent(this,e,t),this},setContent:function(e){return this.innerHTML=e,this},pos:function(){var e=curtop=0;obj=this;if(obj.offsetParent)do e+=obj.offsetLeft,curtop+=obj.offsetTop;while(obj=obj.offsetParent);var t=window.opera?0:parseInt(this.getStyle("border-width")||this.style.border)||0;return[e+t,curtop+t+this.offsetHeight]},noSelect:function(){return bkLib.noSelect(this),this},parentTag:function(e){var t=this;do{if(t&&t.nodeName&&t.nodeName.toUpperCase()==e)return t;t=t.parentNode}while(t);return!1},hasClass:function(e){return this.className.match(new RegExp("(\\s|^)nicEdit-"+e+"(\\s|$)"))},addClass:function(e){return this.hasClass(e)||(this.className+=" nicEdit-"+e),this},removeClass:function(e){return this.hasClass(e)&&(this.className=this.className.replace(new RegExp("(\\s|^)nicEdit-"+e+"(\\s|$)")," ")),this},setStyle:function(e){var t=this.style;for(var n in e)switch(n){case"float":t.cssFloat=t.styleFloat=e[n];break;case"opacity":t.opacity=e[n],t.filter="alpha(opacity="+Math.round(100*e[n])+")";break;case"className":this.className=e[n];break;default:t[n]=e[n]}return this},getStyle:function(e,t){var n=t?t:document.defaultView;return 1==this.nodeType?n&&n.getComputedStyle?n.getComputedStyle(this,null).getPropertyValue(e):this.currentStyle[bkLib.camelize(e)]:void 0},remove:function(){return this.parentNode.removeChild(this),this},setAttributes:function(e){for(var t in e)this[t]=e[t];return this}}),bkLib={isMSIE:-1!=navigator.appVersion.indexOf("MSIE"),addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},toArray:function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n},noSelect:function(e){e.setAttribute&&"input"!=e.nodeName.toLowerCase()&&"textarea"!=e.nodeName.toLowerCase()&&e.setAttribute("unselectable","on");for(var t=0;t<e.childNodes.length;t++)bkLib.noSelect(e.childNodes[t])},camelize:function(e){return e.replace(/\-(.)/g,function(e,t){return t.toUpperCase()})},inArray:function(e,t){return null!=bkLib.search(e,t)},search:function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return n;return null},cancelEvent:function(e){return e=e||window.event,e.preventDefault&&e.stopPropagation&&(e.preventDefault(),e.stopPropagation()),!1},domLoad:[],domLoaded:function(){if(!arguments.callee.done)for(arguments.callee.done=!0,i=0;i<bkLib.domLoad.length;i++)bkLib.domLoad[i]()},onDomLoaded:function(e){this.domLoad.push(e),document.addEventListener?document.addEventListener("DOMContentLoaded",bkLib.domLoaded,null):bkLib.isMSIE&&(document.write("<style>.nicEdit-main p { margin: 0; }</style><script id=__ie_onload defer "+("https:"==location.protocol?"src='javascript:void(0)'":"src=//0")+"></script>"),$BK("__ie_onload").onreadystatechange=function(){"complete"==this.readyState&&bkLib.domLoaded()}),window.onload=bkLib.domLoaded}},bkEvent={addEvent:function(e,t){return t&&(this.eventList=this.eventList||{},this.eventList[e]=this.eventList[e]||[],this.eventList[e].push(t)),this},fireEvent:function(){var e=bkLib.toArray(arguments),t=e.shift();if(this.eventList&&this.eventList[t])for(var n=0;n<this.eventList[t].length;n++)this.eventList[t][n].apply(this,e)}};Function.prototype.closure=function(){var e=this,t=bkLib.toArray(arguments),n=t.shift();return function(){return"undefined"!=typeof bkLib?e.apply(n,t.concat(bkLib.toArray(arguments))):void 0}},Function.prototype.closureListener=function(){var e=this,t=bkLib.toArray(arguments),n=t.shift();return function(i){if(i=i||window.event,i.target)var s=i.target;else var s=i.srcElement;return e.apply(n,[i,s].concat(t))}};var nicEditorConfig=bkClass.extend({buttons:{bold:{name:__("Click to Bold"),command:"Bold",tags:["B","STRONG"],css:{"font-weight":"bold"},key:"b"},italic:{name:__("Click to Italic"),command:"Italic",tags:["EM","I"],css:{"font-style":"italic"},key:"i"},underline:{name:__("Click to Underline"),command:"Underline",tags:["U"],css:{"text-decoration":"underline"},key:"u"},left:{name:__("Left Align"),command:"justifyleft",noActive:!0},center:{name:__("Center Align"),command:"justifycenter",noActive:!0},right:{name:__("Right Align"),command:"justifyright",noActive:!0},justify:{name:__("Justify Align"),command:"justifyfull",noActive:!0},ol:{name:__("Insert Ordered List"),command:"insertorderedlist",tags:["OL"]},ul:{name:__("Insert Unordered List"),command:"insertunorderedlist",tags:["UL"]},subscript:{name:__("Click to Subscript"),command:"subscript",tags:["SUB"]},superscript:{name:__("Click to Superscript"),command:"superscript",tags:["SUP"]},strikethrough:{name:__("Click to Strike Through"),command:"strikeThrough",css:{"text-decoration":"line-through"}},removeformat:{name:__("Remove Formatting"),command:"removeformat",noActive:!0},indent:{name:__("Indent Text"),command:"indent",noActive:!0},outdent:{name:__("Remove Indent"),command:"outdent",noActive:!0},hr:{name:__("Horizontal Rule"),command:"insertHorizontalRule",noActive:!0}},iconsPath:"http://js.nicedit.com/nicEditIcons-latest.gif",buttonList:["save","bold","italic","underline","left","center","right","justify","ol","ul","fontSize","fontFamily","fontFormat","indent","outdent","image","upload","link","unlink","forecolor","bgcolor"],iconList:{xhtml:1,bgcolor:2,forecolor:3,bold:4,center:5,hr:6,indent:7,italic:8,justify:9,left:10,ol:11,outdent:12,removeformat:13,right:14,save:25,strikethrough:16,subscript:17,superscript:18,ul:19,underline:20,image:21,link:22,unlink:23,close:24,arrow:26,upload:27}}),nicEditors={nicPlugins:[],editors:[],registerPlugin:function(e,t){this.nicPlugins.push({p:e,o:t})},allTextAreas:function(e){for(var t=document.getElementsByTagName("textarea"),n=0;n<t.length;n++)nicEditors.editors.push(new nicEditor(e).panelInstance(t[n]));return nicEditors.editors},findEditor:function(e){for(var t=nicEditors.editors,n=0;n<t.length;n++)if(t[n].instanceById(e))return t[n].instanceById(e)}},nicEditor=bkClass.extend({construct:function(e){this.options=new nicEditorConfig,bkExtend(this.options,e),this.nicInstances=new Array,this.loadedPlugins=new Array;for(var t=nicEditors.nicPlugins,n=0;n<t.length;n++)this.loadedPlugins.push(new t[n].p(this,t[n].o));nicEditors.editors.push(this),bkLib.addEvent(document.body,"mousedown",this.selectCheck.closureListener(this))},panelInstance:function(e,t){e=this.checkReplace($BK(e));var n=new bkElement("DIV").setStyle({width:(parseInt(e.getStyle("width"))||e.clientWidth)+"px"}).appendBefore(e);return this.setPanel(n),this.addInstance(e,t)},checkReplace:function(e){var t=nicEditors.findEditor(e);return t&&(t.removeInstance(e),t.removePanel()),e},addInstance:function(e,t){if(e=this.checkReplace($BK(e)),e.contentEditable||window.opera)var n=new nicEditorInstance(e,t,this);else var n=new nicEditorIFrameInstance(e,t,this);return this.nicInstances.push(n),this},removeInstance:function(e){e=$BK(e);for(var t=this.nicInstances,n=0;n<t.length;n++)t[n].e==e&&(t[n].remove(),this.nicInstances.splice(n,1))},removePanel:function(e){this.nicPanel&&(this.nicPanel.remove(),this.nicPanel=null)},instanceById:function(e){e=$BK(e);for(var t=this.nicInstances,n=0;n<t.length;n++)if(t[n].e==e)return t[n]},setPanel:function(e){return this.nicPanel=new nicEditorPanel($BK(e),this.options,this),this.fireEvent("panel",this.nicPanel),this},nicCommand:function(e,t){this.selectedInstance&&this.selectedInstance.nicCommand(e,t)},getIcon:function(e,t){var n=this.options.iconList[e],i=t.iconFiles?t.iconFiles[e]:"";return{backgroundImage:"url('"+(n?this.options.iconsPath:i)+"')",backgroundPosition:(n?-18*(n-1):0)+"px 0px"}},selectCheck:function(e,t){do if(t.className&&-1!=t.className.indexOf("nicEdit"))return!1;while(t=t.parentNode);return this.fireEvent("blur",this.selectedInstance,t),this.lastSelectedInstance=this.selectedInstance,this.selectedInstance=null,!1}});nicEditor=nicEditor.extend(bkEvent);var nicEditorInstance=bkClass.extend({isSelected:!1,construct:function(e,t,n){this.ne=n,this.elm=this.e=e,this.options=t||{},newX=parseInt(e.getStyle("width"))||e.clientWidth,newY=parseInt(e.getStyle("height"))||e.clientHeight,this.initialHeight=newY-8;var i="textarea"==e.nodeName.toLowerCase();if(i||this.options.hasPanel){var s=bkLib.isMSIE&&!("undefined"!=typeof document.body.style.maxHeight&&"CSS1Compat"==document.compatMode),a={width:newX+"px",border:"1px solid #ccc",borderTop:0,overflowY:"auto",overflowX:"hidden"};a[s?"height":"maxHeight"]=this.ne.options.maxHeight?this.ne.options.maxHeight+"px":null,this.editorContain=new bkElement("DIV").setStyle(a).appendBefore(e);var o=new bkElement("DIV").setStyle({width:newX-8+"px",margin:"4px",minHeight:newY+"px"}).addClass("main").appendTo(this.editorContain);if(e.setStyle({display:"none"}),o.innerHTML=e.innerHTML,i){o.setContent(e.value),this.copyElm=e;var r=e.parentTag("FORM");r&&bkLib.addEvent(r,"submit",this.saveContent.closure(this))}o.setStyle(s?{height:newY+"px"}:{overflow:"hidden"}),this.elm=o}this.ne.addEvent("blur",this.blur.closure(this)),this.init(),this.blur()},init:function(){this.elm.setAttribute("contentEditable","true"),""==this.getContent()&&this.setContent("<br />"),this.instanceDoc=document.defaultView,this.elm.addEvent("mousedown",this.selected.closureListener(this)).addEvent("keypress",this.keyDown.closureListener(this)).addEvent("focus",this.selected.closure(this)).addEvent("blur",this.blur.closure(this)).addEvent("keyup",this.selected.closure(this)),this.ne.fireEvent("add",this)},remove:function(){this.saveContent(),(this.copyElm||this.options.hasPanel)&&(this.editorContain.remove(),this.e.setStyle({display:"block"}),this.ne.removePanel()),this.disable(),this.ne.fireEvent("remove",this)},disable:function(){this.elm.setAttribute("contentEditable","false")},getSel:function(){return window.getSelection?window.getSelection():document.selection},getRng:function(){var e=this.getSel();if(e&&0!==e.rangeCount)return e.rangeCount>0?e.getRangeAt(0):e.createRange()},selRng:function(e,t){window.getSelection?(t.removeAllRanges(),t.addRange(e)):e.select()},selElm:function(){var e=this.getRng();if(e){if(e.startContainer){var t=e.startContainer;if(1==e.cloneContents().childNodes.length)for(var n=0;n<t.childNodes.length;n++){var i=t.childNodes[n].ownerDocument.createRange();if(i.selectNode(t.childNodes[n]),1!=e.compareBoundaryPoints(Range.START_TO_START,i)&&-1!=e.compareBoundaryPoints(Range.END_TO_END,i))return $BK(t.childNodes[n])}return $BK(t)}return $BK("Control"==this.getSel().type?e.item(0):e.parentElement())}},saveRng:function(){this.savedRange=this.getRng(),this.savedSel=this.getSel()},restoreRng:function(){this.savedRange&&this.selRng(this.savedRange,this.savedSel)},keyDown:function(e,t){e.ctrlKey&&this.ne.fireEvent("key",this,e)},selected:function(e,t){if(t||(t=this.selElm)||(t=this.selElm()),!e.ctrlKey){var n=this.ne.selectedInstance;n!=this&&(n&&this.ne.fireEvent("blur",n,t),this.ne.selectedInstance=this,this.ne.fireEvent("focus",n,t)),this.ne.fireEvent("selected",n,t),this.isFocused=!0,this.elm.addClass("selected")}return!1},blur:function(){this.isFocused=!1,this.elm.removeClass("selected")},saveContent:function(){(this.copyElm||this.options.hasPanel)&&(this.ne.fireEvent("save",this),this.copyElm?this.copyElm.value=this.getContent():this.e.innerHTML=this.getContent())},getElm:function(){return this.elm},getContent:function(){return this.content=this.getElm().innerHTML,this.ne.fireEvent("get",this),this.content},setContent:function(e){this.content=e,this.ne.fireEvent("set",this),this.elm.innerHTML=this.content},nicCommand:function(e,t){document.execCommand(e,!1,t)}}),nicEditorIFrameInstance=nicEditorInstance.extend({savedStyles:[],init:function(){var e=this.elm.innerHTML.replace(/^\s+|\s+$/g,"");this.elm.innerHTML="",e?e:e="<br />",this.initialContent=e,this.elmFrame=new bkElement("iframe").setAttributes({src:"javascript:;",frameBorder:0,allowTransparency:"true",scrolling:"no"}).setStyle({height:"100px",width:"100%"}).addClass("frame").appendTo(this.elm),this.copyElm&&this.elmFrame.setStyle({width:this.elm.offsetWidth-4+"px"});var t=["font-size","font-family","font-weight","color"];for(itm in t)this.savedStyles[bkLib.camelize(itm)]=this.elm.getStyle(itm);setTimeout(this.initFrame.closure(this),50)},disable:function(){this.elm.innerHTML=this.getContent()},initFrame:function(){var e=$BK(this.elmFrame.contentWindow.document);e.designMode="on",e.open();var t=this.ne.options.externalCSS;e.write("<html><head>"+(t?'<link href="'+t+'" rel="stylesheet" type="text/css" />':"")+'</head><body id="nicEditContent" style="margin: 0 !important; background-color: transparent !important;">'+this.initialContent+"</body></html>"),e.close(),this.frameDoc=e,this.frameWin=$BK(this.elmFrame.contentWindow),this.frameContent=$BK(this.frameWin.document.body).setStyle(this.savedStyles),this.instanceDoc=this.frameWin.document.defaultView,this.heightUpdate(),this.frameDoc.addEvent("mousedown",this.selected.closureListener(this)).addEvent("keyup",this.heightUpdate.closureListener(this)).addEvent("keydown",this.keyDown.closureListener(this)).addEvent("keyup",this.selected.closure(this)),this.ne.fireEvent("add",this)},getElm:function(){return this.frameContent},setContent:function(e){this.content=e,this.ne.fireEvent("set",this),this.frameContent.innerHTML=this.content,this.heightUpdate()},getSel:function(){return this.frameWin?this.frameWin.getSelection():this.frameDoc.selection},heightUpdate:function(){this.elmFrame.style.height=Math.max(this.frameContent.offsetHeight,this.initialHeight)+"px"},nicCommand:function(e,t){this.frameDoc.execCommand(e,!1,t),setTimeout(this.heightUpdate.closure(this),100)}}),nicEditorPanel=bkClass.extend({construct:function(e,t,n){this.elm=e,this.options=t,this.ne=n,this.panelButtons=new Array,this.buttonList=bkExtend([],this.ne.options.buttonList),this.panelContain=new bkElement("DIV").setStyle({overflow:"hidden",width:"100%",border:"1px solid #cccccc",backgroundColor:"#efefef"}).addClass("panelContain"),this.panelElm=new bkElement("DIV").setStyle({margin:"2px",marginTop:"0px",zoom:1,overflow:"hidden"}).addClass("panel").appendTo(this.panelContain),this.panelContain.appendTo(e);var i=this.ne.options,s=i.buttons;for(button in s)this.addButton(button,i,!0);this.reorder(),e.noSelect()},addButton:function addButton(buttonName,options,noOrder){var button=options.buttons[buttonName],type=button.type?eval("(typeof("+button.type+') == "undefined") ? null : '+button.type+";"):nicEditorButton,hasButton=bkLib.inArray(this.buttonList,buttonName);type&&(hasButton||this.ne.options.fullPanel)&&(this.panelButtons.push(new type(this.panelElm,buttonName,options,this.ne)),hasButton||this.buttonList.push(buttonName))},findButton:function(e){for(var t=0;t<this.panelButtons.length;t++)if(this.panelButtons[t].name==e)return this.panelButtons[t]},reorder:function(){for(var e=this.buttonList,t=0;t<e.length;t++){var n=this.findButton(e[t]);n&&this.panelElm.appendChild(n.margin)}},remove:function(){this.elm.remove()}}),nicEditorButton=bkClass.extend({construct:function(e,t,n,i){this.options=n.buttons[t],this.name=t,this.ne=i,this.elm=e,this.margin=new bkElement("DIV").setStyle({"float":"left",marginTop:"2px"}).appendTo(e),this.contain=new bkElement("DIV").setStyle({width:"20px",height:"20px"}).addClass("buttonContain").appendTo(this.margin),this.border=new bkElement("DIV").setStyle({backgroundColor:"#efefef",border:"1px solid #efefef"}).appendTo(this.contain),this.button=new bkElement("DIV").setStyle({width:"18px",height:"18px",overflow:"hidden",zoom:1,cursor:"pointer"}).addClass("button").setStyle(this.ne.getIcon(t,n)).appendTo(this.border),this.button.addEvent("mouseover",this.hoverOn.closure(this)).addEvent("mouseout",this.hoverOff.closure(this)).addEvent("mousedown",this.mouseClick.closure(this)).noSelect(),window.opera||(this.button.onmousedown=this.button.onclick=bkLib.cancelEvent),i.addEvent("selected",this.enable.closure(this)).addEvent("blur",this.disable.closure(this)).addEvent("key",this.key.closure(this)),this.disable(),this.init()},init:function(){},hide:function(){this.contain.setStyle({display:"none"})},updateState:function(){this.isDisabled?this.setBg():this.isHover?this.setBg("hover"):this.isActive?this.setBg("active"):this.setBg()},setBg:function(e){switch(e){case"hover":var t={border:"1px solid #666",backgroundColor:"#ddd"};break;case"active":var t={border:"1px solid #666",backgroundColor:"#ccc"};break;default:var t={border:"1px solid #efefef",backgroundColor:"#efefef"}}this.border.setStyle(t).addClass("button-"+e)},checkNodes:function(e){var t=e;do if(this.options.tags&&bkLib.inArray(this.options.tags,t.nodeName))return this.activate(),!0;while(t=t.parentNode&&"nicEdit"!=t.className);for(t=$BK(e);3==t.nodeType;)t=$BK(t.parentNode);if(this.options.css)for(itm in this.options.css)if(t.getStyle(itm,this.ne.selectedInstance.instanceDoc)==this.options.css[itm])return this.activate(),!0;return this.deactivate(),!1},activate:function(){this.isDisabled||(this.isActive=!0,this.updateState(),this.ne.fireEvent("buttonActivate",this))},deactivate:function(){this.isActive=!1,this.updateState(),this.isDisabled||this.ne.fireEvent("buttonDeactivate",this)},enable:function(e,t){this.isDisabled=!1,this.contain.setStyle({opacity:1}).addClass("buttonEnabled"),this.updateState(),this.checkNodes(t)},disable:function(e,t){this.isDisabled=!0,this.contain.setStyle({opacity:.6}).removeClass("buttonEnabled"),this.updateState()},toggleActive:function(){this.isActive?this.deactivate():this.activate()},hoverOn:function(){this.isDisabled||(this.isHover=!0,this.updateState(),this.ne.fireEvent("buttonOver",this))},hoverOff:function(){this.isHover=!1,this.updateState(),this.ne.fireEvent("buttonOut",this)},mouseClick:function(){this.options.command&&(this.ne.nicCommand(this.options.command,this.options.commandArgs),
this.options.noActive||this.toggleActive()),this.ne.fireEvent("buttonClick",this)},key:function(e,t){this.options.key&&t.ctrlKey&&String.fromCharCode(t.keyCode||t.charCode).toLowerCase()==this.options.key&&(this.mouseClick(),t.preventDefault&&t.preventDefault())}}),nicPlugin=bkClass.extend({construct:function(e,t){this.options=t,this.ne=e,this.ne.addEvent("panel",this.loadPanel.closure(this)),this.init()},loadPanel:function(e){var t=this.options.buttons;for(var n in t)e.addButton(n,this.options);e.reorder()},init:function(){}}),nicPaneOptions={},nicEditorPane=bkClass.extend({construct:function(e,t,n,i){this.ne=t,this.elm=e,this.pos=e.pos(),this.contain=new bkElement("div").setStyle({zIndex:"99999",overflow:"hidden",position:"absolute",left:this.pos[0]+"px",top:this.pos[1]+"px"}),this.pane=new bkElement("div").setStyle({fontSize:"12px",border:"1px solid #ccc",overflow:"hidden",padding:"4px",textAlign:"left",backgroundColor:"#ffffc9"}).addClass("pane").setStyle(n).appendTo(this.contain),i&&!i.options.noClose&&(this.close=new bkElement("div").setStyle({"float":"right",height:"16px",width:"16px",cursor:"pointer"}).setStyle(this.ne.getIcon("close",nicPaneOptions)).addEvent("mousedown",i.removePane.closure(this)).appendTo(this.pane)),this.contain.noSelect().appendTo(document.body),this.position(),this.init()},init:function(){},position:function(){if(this.ne.nicPanel){var e=this.ne.nicPanel.elm,t=e.pos(),n=t[0]+parseInt(e.getStyle("width"))-(parseInt(this.pane.getStyle("width"))+8);n<this.pos[0]&&this.contain.setStyle({left:n+"px"})}},toggle:function(){this.isVisible=!this.isVisible,this.contain.setStyle({display:this.isVisible?"block":"none"})},remove:function(){this.contain&&(this.contain.remove(),this.contain=null)},append:function(e){e.appendTo(this.pane)},setContent:function(e){this.pane.setContent(e)}}),nicSelectOptions={buttons:{fontSize:{name:__("Select Font Size"),type:"nicEditorFontSizeSelect",command:"fontsize"},fontFamily:{name:__("Select Font Family"),type:"nicEditorFontFamilySelect",command:"fontname"},fontFormat:{name:__("Select Font Format"),type:"nicEditorFontFormatSelect",command:"formatBlock"}}},nicEditorSelect=bkClass.extend({construct:function(e,t,n,i){this.options=n.buttons[t],this.elm=e,this.ne=i,this.name=t,this.selOptions=new Array,this.margin=new bkElement("div").setStyle({"float":"left",margin:"2px 1px 0 1px"}).appendTo(this.elm),this.contain=new bkElement("div").setStyle({width:"90px",height:"20px",cursor:"pointer",overflow:"hidden"}).addClass("selectContain").addEvent("click",this.toggle.closure(this)).appendTo(this.margin),this.items=new bkElement("div").setStyle({overflow:"hidden",zoom:1,border:"1px solid #ccc",paddingLeft:"3px",backgroundColor:"#fff"}).appendTo(this.contain),this.control=new bkElement("div").setStyle({overflow:"hidden","float":"right",height:"18px",width:"16px"}).addClass("selectControl").setStyle(this.ne.getIcon("arrow",n)).appendTo(this.items),this.txt=new bkElement("div").setStyle({overflow:"hidden","float":"left",width:"66px",height:"14px",marginTop:"1px",fontFamily:"sans-serif",textAlign:"center",fontSize:"12px"}).addClass("selectTxt").appendTo(this.items),window.opera||(this.contain.onmousedown=this.control.onmousedown=this.txt.onmousedown=bkLib.cancelEvent),this.margin.noSelect(),this.ne.addEvent("selected",this.enable.closure(this)).addEvent("blur",this.disable.closure(this)),this.disable(),this.init()},disable:function(){this.isDisabled=!0,this.close(),this.contain.setStyle({opacity:.6})},enable:function(e){this.isDisabled=!1,this.close(),this.contain.setStyle({opacity:1})},setDisplay:function(e){this.txt.setContent(e)},toggle:function(){this.isDisabled||(this.pane?this.close():this.open())},open:function(){this.pane=new nicEditorPane(this.items,this.ne,{width:"88px",padding:"0px",borderTop:0,borderLeft:"1px solid #ccc",borderRight:"1px solid #ccc",borderBottom:"0px",backgroundColor:"#fff"});for(var e=0;e<this.selOptions.length;e++){var t,n=this.selOptions[e],i=new bkElement("div").setStyle((t={overflow:"hidden",borderBottom:"1px solid #ccc",width:"88px",textAlign:"left"},_defineProperty(t,"overflow","hidden"),_defineProperty(t,"cursor","pointer"),t)),s=new bkElement("div").setStyle({padding:"0px 4px"}).setContent(n[1]).appendTo(i).noSelect();s.addEvent("click",this.update.closure(this,n[0])).addEvent("mouseover",this.over.closure(this,s)).addEvent("mouseout",this.out.closure(this,s)).setAttributes("id",n[0]),this.pane.append(i),window.opera||(s.onmousedown=bkLib.cancelEvent)}},close:function(){this.pane&&(this.pane=this.pane.remove())},over:function(e){e.setStyle({backgroundColor:"#ccc"})},out:function(e){e.setStyle({backgroundColor:"#fff"})},add:function(e,t){this.selOptions.push(new Array(e,t))},update:function(e){this.ne.nicCommand(this.options.command,e),this.close()}}),nicEditorFontSizeSelect=nicEditorSelect.extend({sel:{1:"1&nbsp;(8pt)",2:"2&nbsp;(10pt)",3:"3&nbsp;(12pt)",4:"4&nbsp;(14pt)",5:"5&nbsp;(18pt)",6:"6&nbsp;(24pt)"},init:function(){this.setDisplay("Font&nbsp;Size...");for(itm in this.sel)this.add(itm,'<font size="'+itm+'">'+this.sel[itm]+"</font>")}}),nicEditorFontFamilySelect=nicEditorSelect.extend({sel:{arial:"Arial","comic sans ms":"Comic Sans","courier new":"Courier New",georgia:"Georgia",helvetica:"Helvetica",impact:"Impact","times new roman":"Times","trebuchet ms":"Trebuchet",verdana:"Verdana"},init:function(){this.setDisplay("Font&nbsp;Family...");for(itm in this.sel)this.add(itm,'<font face="'+itm+'">'+this.sel[itm]+"</font>")}}),nicEditorFontFormatSelect=nicEditorSelect.extend({sel:{p:"Paragraph",pre:"Pre",h6:"Heading&nbsp;6",h5:"Heading&nbsp;5",h4:"Heading&nbsp;4",h3:"Heading&nbsp;3",h2:"Heading&nbsp;2",h1:"Heading&nbsp;1"},init:function(){this.setDisplay("Font&nbsp;Format...");for(itm in this.sel){var e=itm.toUpperCase();this.add("<"+e+">","<"+itm+' style="padding: 0px; margin: 0px;">'+this.sel[itm]+"</"+e+">")}}});nicEditors.registerPlugin(nicPlugin,nicSelectOptions);var nicButtonTips=bkClass.extend({construct:function(e){this.ne=e,e.addEvent("buttonOver",this.show.closure(this)).addEvent("buttonOut",this.hide.closure(this))},show:function(e){this.timer=setTimeout(this.create.closure(this,e),400)},create:function(e){this.timer=null,this.pane||(this.pane=new nicEditorPane(e.button,this.ne,{fontSize:"12px",marginTop:"5px"}),this.pane.setContent(e.options.name))},hide:function(e){this.timer&&clearTimeout(this.timer),this.pane&&(this.pane=this.pane.remove())}});nicEditors.registerPlugin(nicButtonTips);var nicEditorAdvancedButton=nicEditorButton.extend({init:function(){this.ne.addEvent("selected",this.removePane.closure(this)).addEvent("blur",this.removePane.closure(this))},mouseClick:function(){this.isDisabled||(this.pane&&this.pane.pane?this.removePane():(this.pane=new nicEditorPane(this.contain,this.ne,{width:this.width||"270px",backgroundColor:"#fff"},this),this.addPane(),this.ne.selectedInstance.saveRng()))},addForm:function(e,t){this.form=new bkElement("form").addEvent("submit",this.submit.closureListener(this)),this.pane.append(this.form),this.inputs={};for(itm in e){var n=e[itm],i="";t&&(i=t.getAttribute(itm)),i||(i=n.value||"");var s=e[itm].type;if("title"==s)new bkElement("div").setContent(n.txt).setStyle({fontSize:"14px",fontWeight:"bold",padding:"0px",margin:"2px 0"}).appendTo(this.form);else{var a=new bkElement("div").setStyle({overflow:"hidden",clear:"both"}).appendTo(this.form);switch(n.txt&&new bkElement("label").setAttributes({"for":itm}).setContent(n.txt).setStyle({margin:"2px 4px",fontSize:"13px",width:"50px",lineHeight:"20px",textAlign:"right","float":"left"}).appendTo(a),s){case"text":this.inputs[itm]=new bkElement("input").setAttributes({id:itm,value:i,type:"text"}).setStyle({margin:"2px 0",fontSize:"13px","float":"left",height:"20px",border:"1px solid #ccc",overflow:"hidden"}).setStyle(n.style).appendTo(a);break;case"select":this.inputs[itm]=new bkElement("select").setAttributes({id:itm}).setStyle({border:"1px solid #ccc","float":"left",margin:"2px 0"}).appendTo(a);for(opt in n.options)var o=new bkElement("option").setAttributes({value:opt,selected:opt==i?"selected":""}).setContent(n.options[opt]).appendTo(this.inputs[itm]);break;case"content":this.inputs[itm]=new bkElement("textarea").setAttributes({id:itm}).setStyle({border:"1px solid #ccc","float":"left"}).setStyle(n.style).appendTo(a),this.inputs[itm].value=i}}}new bkElement("input").setAttributes({type:"submit"}).setStyle({backgroundColor:"#efefef",border:"1px solid #ccc",margin:"3px 0","float":"left",clear:"both"}).appendTo(this.form),this.form.onsubmit=bkLib.cancelEvent},submit:function(){},findElm:function(e,t,n){for(var i=this.ne.selectedInstance.getElm().getElementsByTagName(e),s=0;s<i.length;s++)if(i[s].getAttribute(t)==n)return $BK(i[s])},removePane:function(){this.pane&&(this.pane.remove(),this.pane=null,this.ne.selectedInstance.restoreRng())}}),nicLinkOptions={buttons:{link:{name:"Add Link",type:"nicLinkButton",tags:["A"]},unlink:{name:"Remove Link",command:"unlink",noActive:!0}}},nicLinkButton=nicEditorAdvancedButton.extend({addPane:function(){this.ln=this.ne.selectedInstance.selElm().parentTag("A"),this.addForm({"":{type:"title",txt:"Add/Edit Link"},href:{type:"text",txt:"URL",value:"http://",style:{width:"150px"}},title:{type:"text",txt:"Title"},target:{type:"select",txt:"Open In",options:{"":"Current Window",_blank:"New Window"},style:{width:"100px"}}},this.ln)},submit:function(e){var t=this.inputs.href.value;if("http://"==t||""==t)return alert("You must enter a URL to Create a Link"),!1;if(this.removePane(),!this.ln){var n="javascript:nicTemp();";this.ne.nicCommand("createlink",n),this.ln=this.findElm("A","href",n)}this.ln&&this.ln.setAttributes({href:this.inputs.href.value,title:this.inputs.title.value,target:this.inputs.target.options[this.inputs.target.selectedIndex].value})}});nicEditors.registerPlugin(nicPlugin,nicLinkOptions);var nicColorOptions={buttons:{forecolor:{name:__("Change Text Color"),type:"nicEditorColorButton",noClose:!0},bgcolor:{name:__("Change Background Color"),type:"nicEditorBgColorButton",noClose:!0}}},nicEditorColorButton=nicEditorAdvancedButton.extend({addPane:function(){var e={0:"00",1:"33",2:"66",3:"99",4:"CC",5:"FF"},t=new bkElement("DIV").setStyle({width:"270px"});for(var n in e)for(var i in e)for(var s in e){var a="#"+e[n]+e[s]+e[i],o=new bkElement("DIV").setStyle({cursor:"pointer",height:"15px","float":"left"}).appendTo(t),r=new bkElement("DIV").setStyle({border:"2px solid "+a}).appendTo(o),l=new bkElement("DIV").setStyle({backgroundColor:a,overflow:"hidden",width:"11px",height:"11px"}).addEvent("click",this.colorSelect.closure(this,a)).addEvent("mouseover",this.on.closure(this,r)).addEvent("mouseout",this.off.closure(this,r,a)).appendTo(r);window.opera||(o.onmousedown=l.onmousedown=bkLib.cancelEvent)}this.pane.append(t.noSelect())},colorSelect:function(e){this.ne.nicCommand("foreColor",e),this.removePane()},on:function(e){e.setStyle({border:"2px solid #000"})},off:function(e,t){e.setStyle({border:"2px solid "+t})}}),nicEditorBgColorButton=nicEditorColorButton.extend({colorSelect:function(e){this.ne.nicCommand("hiliteColor",e),this.removePane()}});nicEditors.registerPlugin(nicPlugin,nicColorOptions);var nicImageOptions={buttons:{image:{name:"Add Image",type:"nicImageButton",tags:["IMG"]}}},nicImageButton=nicEditorAdvancedButton.extend({addPane:function(){this.im=this.ne.selectedInstance.selElm().parentTag("IMG"),this.addForm({"":{type:"title",txt:"Add/Edit Image"},src:{type:"text",txt:"URL",value:"http://",style:{width:"150px"}},alt:{type:"text",txt:"Alt Text",style:{width:"100px"}},align:{type:"select",txt:"Align",options:{none:"Default",left:"Left",right:"Right"}}},this.im)},submit:function(e){var t=this.inputs.src.value;if(""==t||"http://"==t)return alert("You must enter a Image URL to insert"),!1;if(this.removePane(),!this.im){var n="javascript:nicImTemp();";this.ne.nicCommand("insertImage",n),this.im=this.findElm("IMG","src",n)}this.im&&this.im.setAttributes({src:this.inputs.src.value,alt:this.inputs.alt.value,align:this.inputs.align.value})}});nicEditors.registerPlugin(nicPlugin,nicImageOptions);var nicSaveOptions={buttons:{save:{name:__("Save this content"),type:"nicEditorSaveButton"}}},nicEditorSaveButton=nicEditorButton.extend({init:function(){this.ne.options.onSave||this.margin.setStyle({display:"none"})},mouseClick:function(){var e=this.ne.options.onSave,t=this.ne.selectedInstance;e(t.getContent(),t.elm.id,t)}});nicEditors.registerPlugin(nicPlugin,nicSaveOptions);var nicXHTML=bkClass.extend({stripAttributes:["_moz_dirty","_moz_resizing","_extended"],noShort:["style","title","script","textarea","a"],cssReplace:{"font-weight:bold;":"strong","font-style:italic;":"em"},sizes:{1:"xx-small",2:"x-small",3:"small",4:"medium",5:"large",6:"x-large"},construct:function(e){this.ne=e,this.ne.options.xhtml&&e.addEvent("get",this.cleanup.closure(this))},cleanup:function(e){var t=e.getElm(),n=this.toXHTML(t);e.content=n},toXHTML:function(e,t,n){var i="",s="",a="",o=e.nodeType,r=e.nodeName.toLowerCase(),l=e.hasChildNodes&&e.hasChildNodes(),d=new Array;switch(o){case 1:var c=e.attributes;switch(r){case"b":r="strong";break;case"i":r="em";break;case"font":r="span"}if(t){for(var p=0;p<c.length;p++){var u=c[p],m=u.nodeName.toLowerCase(),h=u.nodeValue;if(u.specified&&h&&!bkLib.inArray(this.stripAttributes,m)&&"function"!=typeof h){switch(m){case"style":var f=h.replace(/ /g,"");for(itm in this.cssReplace)-1!=f.indexOf(itm)&&(d.push(this.cssReplace[itm]),f=f.replace(itm,""));a+=f,h="";break;case"class":h=h.replace("Apple-style-span","");break;case"size":a+="font-size:"+this.sizes[h]+";",h=""}h&&(s+=" "+m+'="'+h+'"')}}a&&(s+=' style="'+a+'"');for(var p=0;p<d.length;p++)i+="<"+d[p]+">";""==s&&"span"==r&&(t=!1),t&&(i+="<"+r,"br"!=r&&(i+=s))}if(l||bkLib.inArray(this.noShort,m)){t&&(i+=">");for(var p=0;p<e.childNodes.length;p++){var g=this.toXHTML(e.childNodes[p],!0,!0);g&&(i+=g)}}else t&&(i+=" />");t&&l&&(i+="</"+r+">");for(var p=0;p<d.length;p++)i+="</"+d[p]+">";break;case 3:i+=e.nodeValue}return i}});nicEditors.registerPlugin(nicXHTML);var nicCodeOptions={buttons:{xhtml:{name:"Edit HTML",type:"nicCodeButton"}}},nicCodeButton=nicEditorAdvancedButton.extend({width:"350px",addPane:function(){this.addForm({"":{type:"title",txt:"Edit HTML"},code:{type:"content",value:this.ne.selectedInstance.getContent(),style:{width:"340px",height:"200px"}}})},submit:function(e){var t=this.inputs.code.value;this.ne.selectedInstance.setContent(t),this.removePane()}});nicEditors.registerPlugin(nicPlugin,nicCodeOptions);var nicBBCode=bkClass.extend({construct:function(e){if(this.ne=e,this.ne.options.bbCode){e.addEvent("get",this.bbGet.closure(this)),e.addEvent("set",this.bbSet.closure(this));var t=this.ne.loadedPlugins;for(itm in t)t[itm].toXHTML&&(this.xhtml=t[itm])}},bbGet:function(e){var t=this.xhtml.toXHTML(e.getElm());e.content=this.toBBCode(t)},bbSet:function(e){e.content=this.fromBBCode(e.content)},toBBCode:function(e){function t(t,n){e=e.replace(t,n)}return t(/\n/gi,""),t(/<strong>(.*?)<\/strong>/gi,"[b]$1[/b]"),t(/<em>(.*?)<\/em>/gi,"[i]$1[/i]"),t(/<span.*?style="text-decoration:underline;">(.*?)<\/span>/gi,"[u]$1[/u]"),t(/<ul>(.*?)<\/ul>/gi,"[list]$1[/list]"),t(/<li>(.*?)<\/li>/gi,"[*]$1[]"),t(/<ol>(.*?)<\/ol>/gi,"[list=1]$1[/list]"),t(/<img.*?src="(.*?)".*?>/gi,"[img]$1[/img]"),t(/<a.*?href="(.*?)".*?>(.*?)<\/a>/gi,"[url=$1]$2[/url]"),t(/<br.*?>/gi,"\n"),t(/<.*?>.*?<\/.*?>/gi,""),e},fromBBCode:function(e){function t(t,n){e=e.replace(t,n)}return t(/\[b\](.*?)\[\/b\]/gi,"<strong>$1</strong>"),t(/\[i\](.*?)\[\/i\]/gi,"<em>$1</em>"),t(/\[u\](.*?)\[\/u\]/gi,'<span style="text-decoration:underline;">$1</span>'),t(/\[list\](.*?)\[\/list\]/gi,"<ul>$1</ul>"),t(/\[list=1\](.*?)\[\/list\]/gi,"<ol>$1</ol>"),t(/\[\*\](.*?)\[\/\*\]/gi,"<li>$1</li>"),t(/\[img\](.*?)\[\/img\]/gi,'<img src="$1" />'),t(/\[url=(.*?)\](.*?)\[\/url\]/gi,'<a href="$1">$2</a>'),t(/\n/gi,"<br />"),e}});nicEditors.registerPlugin(nicBBCode);var nicUploadOptions={buttons:{upload:{name:"Upload Image",type:"nicUploadButton"}}},nicUploadButton=nicEditorAdvancedButton.extend({nicURI:"https://api.imgur.com/3/image",errorText:"Failed to upload image",addPane:function(){if("undefined"==typeof window.FormData)return this.onError("Image uploads are not supported in this browser, use Chrome, Firefox, or Safari instead.");this.im=this.ne.selectedInstance.selElm().parentTag("IMG");var e=new bkElement("div").setStyle({padding:"10px"}).appendTo(this.pane.pane);new bkElement("div").setStyle({fontSize:"14px",fontWeight:"bold",paddingBottom:"5px"}).setContent("Insert an Image").appendTo(e),this.fileInput=new bkElement("input").setAttributes({type:"file"}).appendTo(e),this.progress=new bkElement("progress").setStyle({width:"100%",display:"none"}).setAttributes("max",100).appendTo(e),this.fileInput.onchange=this.uploadFile.closure(this)},onError:function(e){this.removePane(),alert(e||"Failed to upload image")},uploadFile:function(){var e=this.fileInput.files[0];if(!e||!e.type.match(/image.*/))return void this.onError("Only image files can be uploaded");this.fileInput.setStyle({display:"none"}),this.setProgress(0);var t=new FormData;t.append("image",e);var n=new XMLHttpRequest;n.open("POST",this.ne.options.uploadURI||this.nicURI),n.onload=function(){try{var e=JSON.parse(n.responseText).data}catch(t){return this.onError()}return e.error?this.onError(e.error):void this.onUploaded(e)}.closure(this),n.onerror=this.onError.closure(this),n.upload.onprogress=function(e){this.setProgress(e.loaded/e.total)}.closure(this),n.setRequestHeader("Authorization","Client-ID c37fc05199a05b7"),n.send(t)},setProgress:function(e){this.progress.setStyle({display:"block"}),.98>e?this.progress.value=e:this.progress.removeAttribute("value")},onUploaded:function(e){this.removePane();var t=e.link;if(!this.im){this.ne.selectedInstance.restoreRng();this.ne.nicCommand("insertImage",t),this.im=this.findElm("IMG","src",t)}var n=parseInt(this.ne.selectedInstance.elm.getStyle("width"));this.im&&this.im.setAttributes({src:t,width:n&&e.width?Math.min(n,e.width):""})}});nicEditors.registerPlugin(nicPlugin,nicUploadOptions),$(document).ready(function(){var e=$("#acf-field_5d64533dc0ab2c-field_app22c07ea20cf9");$(".acf-field-app22c07ea20cf9 .acf-range-wrap").hide(),$(".acf-field-app22c07ea20cf9 .acf-input").starrr({max:5,rating:e.val(),change:function(t,n){e.val(n).trigger("input")}});var t=$("#acf-field_5d64533dc0ab2c-field_app1w1c7ea20cf9");$(".acf-field-app1w1c7ea20cf9 .acf-range-wrap").hide(),$(".acf-field-app1w1c7ea20cf9 .acf-input").starrr({max:5,rating:t.val(),change:function(e,n){t.val(n).trigger("input")}});var n=$("#acf-field_5d64533dc0ab2c-field_app3w307ea20cf9");$(".acf-field-app3w307ea20cf9 .acf-range-wrap").hide(),$(".acf-field-app3w307ea20cf9 .acf-input").starrr({max:5,rating:n.val(),change:function(e,t){n.val(t).trigger("input")}});var i=$("#acf-field_5d64533dc0ab2c-field_app3w30723420cf9");$(".acf-field-app3w30723420cf9 .acf-range-wrap").hide(),$(".acf-field-app3w30723420cf9 .acf-input").starrr({max:5,rating:i.val(),change:function(e,t){i.val(t).trigger("input")}});var s=$("#acf-field_5d64533dc0ab2c-field_app3red7ea20cf9");$(".acf-field-app3red7ea20cf9 .acf-range-wrap").hide(),$(".acf-field-app3red7ea20cf9 .acf-input").starrr({max:5,rating:s.val(),change:function(e,t){s.val(t).trigger("input")}})}),$(".acf-field-group-rop54312").css({display:"none"}),$(".acf-field-group-rup522322").css({display:"none"}),$("#js-app-reviewed-cancel").click(function(){$("#js-app-reviewed-success").css({display:"none"})}),$(document).ready(function(){$(".isDisabled").click(function(e){e.preventDefault()})});